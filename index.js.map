{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const baseUrl = \"https://pixabay.com/api/\";\n\nexport const fetchImgByQury = seaechQuery =>{\n    const paramsUrl = new URLSearchParams({\n        key:\"48264629-b593a4428d313ae96204c3007\",\n        q:seaechQuery,\n        image_type:'photo',\n        orientation:'horizontal',\n        safesearch:true,\n    });\n\n    return fetch(`${baseUrl}?${paramsUrl}`)\n        .then(response=>{\n            if (!response.ok) {\n                throw new Error(response.status);\n              }\n    \n            return response.json();\n        });\n};","import SimpleLightbox from \"simplelightbox\";\n\nexport const createGalleryCard = imgInfo =>{\n    return `\n        <li class ='card'>\n    <a class = 'gallery-link' href = '${imgInfo.largeImageURL}'>\n        <img \n            class = 'card__image'\n            src='${imgInfo.webformatURL}' \n            alt='${imgInfo.tags}'>\n\n            <div class = 'stats'>\n                <p class = 'stats-item'>Likes ${imgInfo.likes}</p>\n                <p class = 'stats-item'>Views ${imgInfo.views}</p>\n                <p class = 'stats-item'>Comments ${imgInfo.comments}</p>\n                <p class = 'stats-item'>Downloads ${imgInfo.downloads}</p>\n            </div>\n      \n<a/>\n    </li>\n    `\n};\n\n\n// //<p class=\"stats-item\">\n// <i class=\"material-icons\">thumb_up</i>\n// {{likes}}\n// </p>\n// <p class=\"stats-item\">\n// <i class=\"material-icons\">visibility</i>\n// {{views}}\n// </p>\n// <p class=\"stats-item\">\n// <i class=\"material-icons\">comment</i>\n// {{comments}}\n// </p>\n// <p class=\"stats-item\">\n// <i class=\"material-icons\">cloud_download</i>\n// {{downloads}} \n\nexport const toggleClass = function(elem, className){\n    return elem.classList.toggle(className)\n};\n\nexport const simpleBox = function(){\n    return new SimpleLightbox('.gallery a');\n};","import { fetchImgByQury } from \"./js/pixabay-api\";\nimport { createGalleryCard } from \"./js/render-functions\";\nimport { toggleClass } from \"./js/render-functions\";\nimport iziToast from \"izitoast\";\nimport { simpleBox } from \"./js/render-functions\";\n\n\nconst formEl = document.querySelector('.form');\nconst galleryEl = document.querySelector('.gallery');\nconst loader = document.querySelector('.js-loader');\n\n\n\nconst searchSubmit = e =>{\n    e.preventDefault();\n    \n    toggleClass(loader,'visually-hidden');\n    galleryEl.innerHTML = ''\n    const inputValue = e.currentTarget.elements.input.value.trim();\n    if ( inputValue === ''){\n        iziToast.error({\n            title:'Error',\n            message:'Please enter your search query'\n        })\n        toggleClass(loader,'visually-hidden');\n       \n        return;\n    };\n\n    setTimeout(()=>{\n        fetchImgByQury(inputValue)\n        .then(data=>{\n            if(data.total === 0){\n                iziToast.error({\n                    title:'Error',\n                    message:'Sorry, there are no images matching your search query. Please try again!'\n                })\n    \n                galleryEl.innerHTML = '';\n                toggleClass(loader,'visually-hidden');\n                formEl.reset();\n    \n                return;\n            }\n            \n            const galleryTemplate = data.hits.map(el=>createGalleryCard(el)).join('');\n            toggleClass(loader,'visually-hidden');\n            galleryEl.innerHTML = galleryTemplate;\n            simpleBox();            \n            \n            formEl.reset()\n        \n        })    \n           .catch(err=>console.log(err));\n    \n    },400)\n};\n\nformEl.addEventListener('submit', searchSubmit);\n\n"],"names":["baseUrl","fetchImgByQury","seaechQuery","paramsUrl","response","createGalleryCard","imgInfo","toggleClass","elem","className","simpleBox","SimpleLightbox","formEl","galleryEl","loader","searchSubmit","e","inputValue","iziToast","data","galleryTemplate","el","err"],"mappings":"6vBAAA,MAAMA,EAAU,2BAEHC,EAAiBC,GAAc,CACxC,MAAMC,EAAY,IAAI,gBAAgB,CAClC,IAAI,qCACJ,EAAED,EACF,WAAW,QACX,YAAY,aACZ,WAAW,EACnB,CAAK,EAED,OAAO,MAAM,GAAGF,CAAO,IAAIG,CAAS,EAAE,EACjC,KAAKC,GAAU,CACZ,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGnC,OAAOA,EAAS,MAC5B,CAAS,CACT,ECjBaC,EAAoBC,GACtB;AAAA;AAAA,wCAE6BA,EAAQ,aAAa;AAAA;AAAA;AAAA,mBAG1CA,EAAQ,YAAY;AAAA,mBACpBA,EAAQ,IAAI;AAAA;AAAA;AAAA,gDAGiBA,EAAQ,KAAK;AAAA,gDACbA,EAAQ,KAAK;AAAA,mDACVA,EAAQ,QAAQ;AAAA,oDACfA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,MAyBxDC,EAAc,SAASC,EAAMC,EAAU,CAChD,OAAOD,EAAK,UAAU,OAAOC,CAAS,CAC1C,EAEaC,EAAY,UAAU,CAC/B,OAAO,IAAIC,EAAe,YAAY,CAC1C,ECvCMC,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAS,SAAS,cAAc,YAAY,EAI5CC,EAAeC,GAAI,CACrBA,EAAE,eAAc,EAEhBT,EAAYO,EAAO,iBAAiB,EACpCD,EAAU,UAAY,GACtB,MAAMI,EAAaD,EAAE,cAAc,SAAS,MAAM,MAAM,OACxD,GAAKC,IAAe,GAAG,CACnBC,EAAS,MAAM,CACX,MAAM,QACN,QAAQ,gCACpB,CAAS,EACDX,EAAYO,EAAO,iBAAiB,EAEpC,MAER,CACI,WAAW,IAAI,CACXb,EAAegB,CAAU,EACxB,KAAKE,GAAM,CACR,GAAGA,EAAK,QAAU,EAAE,CAChBD,EAAS,MAAM,CACX,MAAM,QACN,QAAQ,0EAC5B,CAAiB,EAEDL,EAAU,UAAY,GACtBN,EAAYO,EAAO,iBAAiB,EACpCF,EAAO,MAAK,EAEZ,MACH,CAED,MAAMQ,EAAkBD,EAAK,KAAK,IAAIE,GAAIhB,EAAkBgB,CAAE,CAAC,EAAE,KAAK,EAAE,EACxEd,EAAYO,EAAO,iBAAiB,EACpCD,EAAU,UAAYO,EACtBV,IAEAE,EAAO,MAAO,CAE1B,CAAS,EACG,MAAMU,GAAK,QAAQ,IAAIA,CAAG,CAAC,CAElC,EAAC,GAAG,CACT,EAEAV,EAAO,iBAAiB,SAAUG,CAAY"}